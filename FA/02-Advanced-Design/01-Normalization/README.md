<div dir="rtl">

# ุจุฎุด ฒ, ุฏุฑุณ ฑ: ูุฑูุงูโุณุงุฒ (Normalization) ู Denormalization

ุชุง ุจู ุญุงู ุจู ุงู ูฺฉุฑ ฺฉุฑุฏูโุงุฏ ฺฉู ฺุฑุง ุฏุงุฏูโูุง ุฑุง ุฏุฑ ุฌุฏุงูู ูุฎุชูู ูพุฎุด ูโฺฉููุ ฺุฑุง ุชูุงู ุงุทูุงุนุงุช ฺฉ ูุฑูุดฺฏุงู ุฑุง ุฏุฑ ฺฉ ุฌุฏูู ุบููโูพฺฉุฑ ุจู ูุงู `everything` ุฐุฎุฑู ููโฺฉููุ ูพุงุณุฎ ุฏุฑ ููููู ุจู ูุงู **ูุฑูุงูโุณุงุฒ** ูููุชู ุงุณุช.

ูุฑูุงูโุณุงุฒ ูุฑุขูุฏ ฺฏุงูโุจูโฺฏุงู ุจุฑุง ุณุงุฒูุงูุฏู ุณุชููโูุง ู ุฌุฏุงูู ุฏุฑ ฺฉ ูพุงฺฏุงู ุฏุงุฏู ุงุณุช ุชุง **ุชฺฉุฑุงุฑ ุฏุงุฏู (Data Redundancy)** ุฑุง ุจู ุญุฏุงูู ุฑุณุงูุฏู ู **ฺฉูพุงุฑฺฺฏ ุฏุงุฏู (Data Integrity)** ุฑุง ุจูุจูุฏ ุจุจุฎุดู.

## ๐ค ฺุฑุง ูุฑูุงูโุณุงุฒ ููู ุงุณุชุ

ฺฉ ุฌุฏูู ุบุฑูุฑูุงู (ูุงููุฏ ฺฉ ูุงู ุงฺฉุณู ุจุฒุฑฺฏ ู ุจูโููโุฑุฎุชู) ูุดฺฉูุงุช ุฌุฏ ุงุฌุงุฏ ูโฺฉูุฏ ฺฉู ุจู ุขูโูุง **ูุงููุฌุงุฑ (Anomalies)** ูโฺฏููุฏ:

* **ูุงููุฌุงุฑ ุฏุฑ ุฏุฑุฌ (Insertion Anomaly):** ููโุชูุงูุฏ ุงุทูุงุนุงุช ุจุฎุด ุฑุง ุงุถุงูู ฺฉูุฏ ูฺฏุฑ ุงูฺฉู ุงุทูุงุนุงุช ุจุฎุด ุฏฺฏุฑ ูู ููุฌูุฏ ุจุงุดุฏ. (ูุซูุงู ููโุชูุงูุฏ ฺฉ ููุณูุฏู ุฌุฏุฏ ุฑุง ุงุถุงูู ฺฉูุฏ ูฺฏุฑ ุงูฺฉู ุญุชูุงู ฺฉ ฺฉุชุงุจ ูู ุจุฑุง ุงู ุซุจุช ฺฉูุฏ).
* **ูุงููุฌุงุฑ ุฏุฑ ุจุฑูุฒุฑุณุงู (Update Anomaly):** ุจุฑุง ุชุบุฑ ฺฉ ุฏุงุฏู ุชฺฉุฑุงุฑ (ูุซูุงู ุงูู ฺฉ ููุณูุฏู)ุ ุจุงุฏ ุขู ุฑุง ุฏุฑ ฺูุฏู ุฑุฏู ูุฎุชูู ุจุฑูุฒุฑุณุงู ฺฉูุฏ. ุงฺฏุฑ ฺฉ ุงุฒ ุขูโูุง ูุฑุงููุด ุดูุฏุ ุฏุงุฏูโูุง ุดูุง ูุงููุงููฺฏ ู ุบุฑูุงุจู ุงุนุชูุงุฏ ูโุดููุฏ.
* **ูุงููุฌุงุฑ ุฏุฑ ุญุฐู (Deletion Anomaly):** ุจุง ุญุฐู ฺฉ ุฑุฏูุ ููฺฉู ุงุณุช ุงุทูุงุนุงุช ุงุฑุฒุดููุฏ ุฏฺฏุฑ ฺฉู ุฌุง ุฏฺฏุฑ ุฐุฎุฑู ูุดุฏูโุงูุฏ ุฑุง ูุฒ ุงุฒ ุฏุณุช ุจุฏูุฏ. (ูุซูุงู ุจุง ุญุฐู ุชููุง ฺฉุชุงุจ ฺฉ ููุณูุฏูุ ฺฉู ุงุทูุงุนุงุช ุขู ููุณูุฏู ุงุฒ ุณุณุชู ูพุงฺฉ ุดูุฏ).

ูุฑูุงูโุณุงุฒ ุงู ูุดฺฉูุงุช ุฑุง ุจุง ุชูุณู ฺฉุฑุฏู ุฏุงุฏูโูุง ุจู ุฌุฏุงูู ฺฉูฺฺฉโุชุฑ ู ูุฑุชุจุท ุญู ูโฺฉูุฏ.

---

## ุณุทูุญ ูุฑูุงูโุณุงุฒ (Normal Forms)

ูุฑูุงูโุณุงุฒ ฺูุฏู ุณุทุญ ุง "ูุฑู" ุฏุงุฑุฏ. ุจุฑุง นนูช ฺฉุงุฑูุง ุนููุ ุฏุงูุณุชู ุณู ูุฑู ุงูู ฺฉุงู ุงุณุช.

### ูุฑู ูุฑูุงู ุงูู (1NF): ุงุชู ุจูุฏู ุฏุงุฏูโูุง

> **ูุงููู:** ูุฑ ุณููู ุฏุฑ ุฌุฏูู ุจุงุฏ ููุท ฺฉ ููุฏุงุฑ **ุงุชู (Atomic)** ุฏุงุดุชู ุจุงุดุฏ ู ูฺ ฺฏุฑูู ุชฺฉุฑุงุฑ ุฏุฑ ุฑุฏูโูุง ูุฌูุฏ ูุฏุงุดุชู ุจุงุดุฏ.

* **ุงุชู ุนู ฺูุ** ุนู ุบุฑูุงุจู ุชุฌุฒู. ุดูุง ูุจุงุฏ ฺูุฏู ููุฏุงุฑ ุฑุง ุจุง ฺฉุงูุง ุง ูุฑ ุฌุฏุงฺฉููุฏู ุฏฺฏุฑ ุฏุฑ ฺฉ ุณุชูู ุฐุฎุฑู ฺฉูุฏ.

**โ ูุซุงู ุจุฏ (ุบุฑ 1NF):**
ฺฉ ุฌุฏูู `books` ุจุง ุณุชูู `tags` ฺฉู ุชฺฏโูุง ุจุง ฺฉุงูุง ุฌุฏุง ุดุฏูโุงูุฏ.

<div dir="ltr">

| id   | title                | tags                      |
|:-----|:---------------------|:--------------------------|
| 1    | Learning SQL         | "MySQL, Database, SQL"    |
| 2    | Laravel Up & Running | "PHP, Laravel, Framework" |
</div>

**โ ุฑุงูโุญู (ุฑุณุฏู ุจู 1NF):**
ุงู ุฏุงุฏูโูุง ุฑุง ุจู ุฌุฏุงูู ุฌุฏุงฺฏุงูู ุชูุณู ูโฺฉูู ู ฺฉ **ุฌุฏูู ูุงุณุท (Pivot Table)** ุจุฑุง ูุฏุฑุช ุฑุงุจุทู ฺูุฏุจูโฺูุฏ ูโุณุงุฒู.

ุฌุฏูู `books`:

<div dir="ltr">

| id   | title                |
|:-----|:---------------------|
| 1    | Learning SQL         |
| 2    | Laravel Up & Running |
</div>

ุฌุฏูู `tags`:
<div dir="ltr">

| id   | name     |
|:-----|:---------|
| 1    | MySQL    |
| 2    | Database |
| 3    | PHP      |
</div>

ุฌุฏูู `book_tag` (ุฌุฏูู ูุงุณุท):
<div dir="ltr">

| book_id   | tag_id   |
|:----------|:---------|
| 1         | 1        |
| 1         | 2        |
| 2         | 3        |
</div>

---

### ูุฑู ูุฑูุงู ุฏูู (2NF): ูุงุจุณุชฺฏ ฺฉุงูู ุจู ฺฉูุฏ ุงุตู

> **ูุงููู:** ุฌุฏูู ุจุงุฏ ุฏุฑ 1NF ุจุงุดุฏ ู ุชูุงู ุณุชููโูุง ุบุฑฺฉูุฏ ุจุงุฏ ุจู **ุชูุงูู ฺฉูุฏ ุงุตู** ูุงุจุณุชู ุจุงุดูุฏ. (ุงู ูุงููู ููุท ุจุฑุง ุฌุฏุงูู ุจุง **ฺฉูุฏ ุงุตู ุชุฑฺฉุจ (Composite Primary Key)** ูุนูุง ูพุฏุง ูโฺฉูุฏ).

**โ ูุซุงู ุจุฏ (ุบุฑ 2NF):**
ูุฑุถ ฺฉูุฏ ฺฉ ุฌุฏูู `order_items` ุฏุงุฑู ฺฉู ฺฉูุฏ ุงุตู ุขู ุชุฑฺฉุจ ุงุฒ `(order_id, product_id)` ุงุณุช.

<div dir="ltr">

| order_id   | product_id   | product_name   | quantity   |
|:-----------|:-------------|:---------------|:----------:|
| 101        | 1            | Laptop         |     1      |
| 101        | 2            | Mouse          |     2      |
| 102        | 1            | Laptop         |     3      |
</div>

ุฏุฑ ุงูุฌุงุ `product_name` ููุท ุจู `product_id` ูุงุจุณุชู ุงุณุชุ ูู ุจู ุชุฑฺฉุจ `(order_id, product_id)`. ุงู ฺฉ ุงูุฒููฺฏ ุฏุงุฏู ุงุณุช. ุงฺฏุฑ ูุงู ูุญุตูู ุนูุถ ุดูุฏุ ุจุงุฏ ุชูุงู ุฑุฏูโูุง ุงู ุฌุฏูู ุฑุง ุจฺฏุฑุฏู ู ุขู ุฑุง ุชุบุฑ ุฏูู.

**โ ุฑุงูโุญู (ุฑุณุฏู ุจู 2NF):**
ุณุชูู `product_name` ุฑุง ุจู ุฌุฏูู `products` ููุชูู ูโฺฉูู.

ุฌุฏูู `products`:
<div dir="ltr">

| id   | name   |
|:-----|:-------|
| 1    | Laptop |
| 2    | Mouse  |
</div>

ุฌุฏูู `order_items`:
<div dir="ltr">

| order_id   | product_id   | quantity   |
|:-----------|:-------------|:----------:|
| 101        | 1            |     1      |
| 101        | 2            |     2      |
| 102        | 1            |     3      |
</div>

---

### ูุฑู ูุฑูุงู ุณูู (3NF): ุนุฏู ูุฌูุฏ ูุงุจุณุชฺฏ ุงูุชูุงู

> **ูุงููู:** ุฌุฏูู ุจุงุฏ ุฏุฑ 2NF ุจุงุดุฏ ู ูฺ ุณุชูู ุบุฑฺฉูุฏ ูุจุงุฏ ุจู ุณุชูู ุบุฑฺฉูุฏ ุฏฺฏุฑ ูุงุจุณุชู ุจุงุดุฏ.

* **ูุงุจุณุชฺฏ ุงูุชูุงู ุนู ฺูุ** ุนู ุณุชูู C ุจู ุณุชูู B ูุงุจุณุชู ุจุงุดุฏ ู ุณุชูู B ุจู ฺฉูุฏ ุงุตู A ูุงุจุณุชู ุจุงุดุฏ. (`A -> B -> C`)

**โ ูุซุงู ุจุฏ (ุบุฑ 3NF):**
ฺฉ ุฌุฏูู `books` ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ.
<div dir="ltr">

| id   | title        | author_id   | author_email      |
|:-----|:-------------|:-----------:|:------------------|
| 1    | Learning SQL |     10      | `ali@example.com` |
| 2    | Advanced SQL |     10      | `ali@example.com` |
</div>

ุฏุฑ ุงูุฌุงุ `author_email` ุจู `author_id` ูุงุจุณุชู ุงุณุช ู `author_id` ุจู ฺฉูุฏ ุงุตู `id` ูุงุจุณุชู ูุณุช. ุงฺฏุฑ ุงูู ููุณูุฏู ุชุบุฑ ฺฉูุฏุ ุจุงุฏ ุฏุฑ ุชูุงู ฺฉุชุงุจโูุง ุงู ุงู ุชุบุฑ ุฑุง ุงุนูุงู ฺฉูู!

**โ ุฑุงูโุญู (ุฑุณุฏู ุจู 3NF):**
ุงุทูุงุนุงุช ููุณูุฏู ุฑุง ุจู ุฌุฏูู `authors` ููุชูู ูโฺฉูู.

ุฌุฏูู `authors`:
<div dir="ltr">

| id   | name   | email             |
|:-----|:-------|:------------------|
| 10   | Ali    | `ali@example.com` |
</div>

ุฌุฏูู `books`:
<div dir="ltr">

| id   | title        | author_id   |
|:-----|:-------------|:-----------:|
| 1    | Learning SQL |     10      |
| 2    | Advanced SQL |     10      |
</div>

ุญุงูุง ูุง ฺฉ **ููุจุน ุญููุช ูุงุญุฏ (Single Source of Truth)** ุจุฑุง ุงุทูุงุนุงุช ูุฑ ููุฌูุฏุช ุฏุงุฑู.

---

## ุดฺฉุณุชู ููุงูู ุจุฑุง ุณุฑุนุช (โก๏ธDenormalization)

ูุฑุขูุฏ **Denormalization**ุ ูุฑุขูุฏ **ุนูุฏ ู ุขฺฏุงูุงูู** ุจุฑุง ุงูุฒูุฏู ุฏุงุฏูโูุง ุชฺฉุฑุงุฑ ุจู ฺฉ ุฌุฏููุ ุจุง ูุฏู **ุงูุฒุงุด ุณุฑุนุช ุฎูุงูุฏู (Read Performance)** ุงุณุช.

**ฺุฑุง ุงู ฺฉุงุฑ ุฑุง ูโฺฉููุ**
ูุฑูุงูโุณุงุฒ ุจุงูุง ููุฌุฑ ุจู ุงูุฒุงุด ุชุนุฏุงุฏ ุฌุฏุงูู ู ุฏุฑ ูุชุฌูุ ุงูุฒุงุด ุชุนุฏุงุฏ `JOIN` ูุง ุฏุฑ ฺฉูุฆุฑโูุง ูโุดูุฏ. ุฏุฑ ุณุณุชูโูุง ุจุง ุญุฌู ุชุฑุงูฺฉ ุฎูุงูุฏู ุจุณุงุฑ ุจุงูุง (ูุงููุฏ ฺฉ ุฏุงุดุจูุฑุฏ ฺฏุฒุงุฑุดโฺฏุฑ ุง ูุฏ ฺฉ ุดุจฺฉู ุงุฌุชูุงุน)ุ ุงู `JOIN` ูุง ูโุชูุงููุฏ ุจู ฺฏููฺฏุงู ุนููฺฉุฑุฏ ุชุจุฏู ุดููุฏ.

**ูุซุงู:**
ุฏุฑ ฺฉ ูุจูุงฺฏุ ุจุฑุง ููุงุด ูุณุช ููุงูุงุช ุจู ููุฑุงู ูุงู ููุณูุฏูุ ุจุงุฏ ุฏู ุฌุฏูู `posts` ู `users` ุฑุง ุจู ูู `JOIN` ฺฉูู.

<div dir="ltr">

```sql
SELECT p.title, u.name
FROM posts p
JOIN users u ON p.user_id = u.id;
```
</div>

ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงู `JOIN` ุฏุฑ ูุฑ ุจุงุฑ ููุงุดุ ูโุชูุงูู ูุงู ููุณูุฏู ุฑุง ูุณุชููุงู ุฏุฑ ุฌุฏูู `posts` ูู ุฐุฎุฑู ฺฉูู.

ุฌุฏูู `posts` (Denormalized):
<div dir="ltr">

| id   | title    | user_id   | author_name   |
|:-----|:---------|:---------:|:--------------|
| 1    | Post One |    10     | Ali           |
</div>

**ูุฒูู-ูุงุฏู (Trade-off):**
* **ูุฒุช:** ุณุฑุนุช ุฎูุงูุฏู ุจุณุงุฑ ุจุงูุง ูโุฑูุฏ ฺูู ุฏฺฏุฑ ูุงุฒ ุจู `JOIN` ูุณุช.
* **ุนุจ:** ฺฉูพุงุฑฺฺฏ ุฏุงุฏู ุจู ุฎุทุฑ ูโุงูุชุฏ ู ูพฺุฏฺฏ ููุดุชู ุงูุฒุงุด ูโุงุจุฏ. ุงฺฏุฑ "Ali" ูุงู ุฎูุฏ ุฑุง ุชุบุฑ ุฏูุฏุ ุดูุง ุจุงุฏ ุนูุงูู ุจุฑ ุฌุฏูู `users`ุ ุชูุงู ูพุณุชโูุง ุงู ุฏุฑ ุฌุฏูู `posts` ุฑุง ูุฒ ุจุฑูุฒุฑุณุงู ฺฉูุฏ.

> **ูุงููู ุทูุง:** ููุดู ุจุง ฺฉ ุทุฑุงุญ ูุฑูุงู ุดุฑูุน ฺฉูุฏ. ููุท ุฒูุงู ุจู ุณุฑุงุบ Denormalization ุจุฑูุฏ ฺฉู ุจุง **ุฏุงุฏูโูุง ูุงูุน** ู **ุงุจุฒุงุฑูุง ูุงูุชูุฑูฺฏ** ุซุงุจุช ุดุฏู ุจุงุดุฏ ฺฉู ฺฉ `JOIN` ุฎุงุต ุจุงุนุซ ฺฉูุฏ ุณุณุชู ุดูุง ุดุฏู ุงุณุช.

---
[โฉ ูุตู ูุจู: ูุจุงู MySQL](../../01-Fundamentals/README.md) | [๐ผ ุจุงุฒฺฏุดุช ุจู ููุฑุณุช ูุตู](../README.md) | [ุฏุฑุณ ุจุนุฏ: ุงูุฏฺฉุณโฺฏุฐุงุฑ ูพุดุฑูุชู โช](../02-Advanced-Indexing/README.md)

</div>