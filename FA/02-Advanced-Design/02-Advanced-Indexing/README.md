<div dir="rtl">

# ุจุฎุด ฒุ ุฏุฑุณ ฒ: ุงูุฏฺฉุณโฺฏุฐุงุฑ (Indexing) ูพุดุฑูุชู

ุฏุฑ ุจุฎุด ุงูู ุจู ุทูุฑ ุฎูุงุตู ฺฏูุชู ฺฉู ุงูุฏฺฉุณ ูุงููุฏ ููุฑุณุช ุงูุชูุง ฺฉุชุงุจ ุนูู ูโฺฉูุฏ ู ุณุฑุนุช ุฌุณุชุฌู ุฑุง ุจุงูุง ูโุจุฑุฏ. ุญุงูุง ูโุฎูุงูู ุจู ุนูู ุงู ููุถูุน ูููุฐ ฺฉูู ู ุงุฏ ุจฺฏุฑู ฺฺฏููู ุงูุฏฺฉุณโูุง ููุดููุฏุงูู ู ุจููู ุทุฑุงุญ ฺฉูู.

ุฏุงูุณุชู ุงูฺฉู ุจุงุฏ ุงูุฏฺฉุณ ุณุงุฎุชุ ุฎูุจ ุงุณุช. ุงูุง ุฏุงูุณุชู ุงูฺฉู **ฺู ููุน ุงูุฏฺฉุณ**ุ ุฑู **ฺฉุฏุงู ุณุชููโูุง** ู ุจุง **ฺู ุชุฑุชุจ** ุจุณุงุฒูุ ุนุงู ุงุณุช.

---

###  ุงูุฏฺฉุณโูุง ุฏุฑ ูพุดุช ุตุญูู ฺฺฏููู ฺฉุงุฑ ูโฺฉููุฏ: B-Tree

ุฏุฑ ููุชูุฑ InnoDBุ ุงูุฏฺฉุณโูุง ูุนูููุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุจู ูุงู **B-Tree** ูพุงุฏูโุณุงุฒ ูโุดููุฏ. B-Tree ฺฉ ุณุงุฎุชุงุฑ ุฏุฑุฎุช ุงุณุช ฺฉู ุฏุงุฏูโูุง ุฑุง ุจู ุตูุฑุช **ูุฑุชุจโุดุฏู** ูฺฏู ูโุฏุงุฑุฏ ู ุงูฺฉุงู ุฌุณุชุฌูุ ุฏุฑุฌ ู ุญุฐู ุจุณุงุฑ ุณุฑุน ุฑุง ูุฑุงูู ูโฺฉูุฏ.



ูููโุชุฑู ูฺฉุชูโุง ฺฉู ุจุงุฏ ุงุฒ B-Tree ุจุฏุงูุฏ ุงู ุงุณุช ฺฉู **ุฏุงุฏูโูุง ุฏุฑ ุขู ูุฑุชุจ ูุณุชูุฏ**. ุจู ููู ุฏููุ ุงูุฏฺฉุณโูุง B-Tree ุจุฑุง ุงู ููุงุฑุฏ ูููโุงูุนุงุฏู ฺฉุงุฑุขูุฏ ูุณุชูุฏ:

* **ุฌุณุชุฌู ุฏูู:** `WHERE id = 100`
* **ุฌุณุชุฌู ุฏุงูููโุง:** `WHERE price > 5000`
* **ูุฑุชุจโุณุงุฒ:** `ORDER BY created_at`

---

###  ูููโุชุฑู ููููู: ุงูุฏฺฉุณ ฺูุฏุณุชูู (Composite Index)

ฺฉ ุงูุฏฺฉุณ ฺูุฏุณุชููุ ุงูุฏฺฉุณ ุงุณุช ฺฉู ุฑู ุฏู ุง ฺูุฏ ุณุชูู ุจู ุตูุฑุช ููุฒูุงู ุณุงุฎุชู ูโุดูุฏ. ุงูุฌุง ุฌุง ุงุณุช ฺฉู ููุฑ ุทุฑุงุญ ุงูุฏฺฉุณ ูุดุฎุต ูโุดูุฏ.

**ูุงููู ุทูุง: ุชุฑุชุจ ุณุชููโูุง ุงููุช ุญุงุช ุฏุงุฑุฏ!**

ฺฉ ุงูุฏฺฉุณ ฺูุฏุณุชูู ูุงููุฏ ฺฉ ุฏูุชุฑฺู ุชููู ุงุณุช ฺฉู ุงุจุชุฏุง ุจุฑ ุงุณุงุณ **ูุงู ุฎุงููุงุฏฺฏ** ู ุณูพุณ ุจุฑ ุงุณุงุณ **ูุงู ฺฉูฺฺฉ** ูุฑุชุจ ุดุฏู ุงุณุช.

ูุฑุถ ฺฉูุฏ ฺฉ ุงูุฏฺฉุณ ุฑู `(last_name, first_name)` ุฏุงุฑู:

* **ุฌุณุชุฌู `'WHERE last_name = 'Smith' AND first_name = 'John`:** ุจุณุงุฑ ุณุฑุน ุงุณุช. ูุซู ูพุฏุง ฺฉุฑุฏู "ุงุณูุชุ ุฌุงู" ุฏุฑ ุฏูุชุฑฺู ุชููู.
* **ุฌุณุชุฌู `'WHERE last_name = 'Smith`:** ุณุฑุน ุงุณุช. ุดูุง ุจู ุจุฎุด "S" ูโุฑูุฏ ู ุชูุงู ุงุณูุชโูุง ุฑุง ูพุฏุง ูโฺฉูุฏ.
* **ุฌุณุชุฌู `'WHERE first_name = 'John`:** **ุจุณุงุฑ ฺฉูุฏ** ุงุณุช! ุงู ูุงููุฏ ุงู ุงุณุช ฺฉู ุจุฎูุงูุฏ ุชูุงู ุงูุฑุงุฏ ฺฉู ูุงูุดุงู "ุฌุงู" ุงุณุช ุฑุง ุฏุฑ ุฏูุชุฑฺู ุชููู ูพุฏุง ฺฉูุฏ. ฺูู ุฏูุชุฑฺู ุจุฑ ุงุณุงุณ ูุงู ฺฉูฺฺฉ ูุฑุชุจ ูุดุฏูุ ุจุงุฏ ฺฉู ุขู ุฑุง ูุฑู ุจุฒูุฏ (Full Table Scan).

ุงู ููููู ุจู **ูุงููู ูพุดููุฏ ฺูพ (Left-Prefix Rule)** ูุนุฑูู ุงุณุช. ฺฉ ฺฉูุฆุฑ ููุท ุฒูุงู ูโุชูุงูุฏ ุงุฒ ฺฉ ุงูุฏฺฉุณ ฺูุฏุณุชูู ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ุงุฒ ุณุชููโูุง ุณูุช ฺูพ ุงูุฏฺฉุณ ุฏุฑ ุดุฑุท `WHERE` ุฎูุฏ ุงุณุชูุงุฏู ฺฉุฑุฏู ุจุงุดุฏ.

#### ฺฺฏููู ุชุฑุชุจ ุณุชููโูุง ุฑุง ุงูุชุฎุงุจ ฺฉููุ

1.  **ฺฉุงุฑุฏูุงูุช (Cardinality) ุจุงูุง ุฑุง ุฏุฑ ุงูููุช ูุฑุงุฑ ุฏูุฏ:** ุณุชูู ฺฉู ููุงุฏุฑ ููุญุตุฑุจูโูุฑุฏ ุจุดุชุฑ ุฏุงุฑุฏ (ฺฉุงุฑุฏูุงูุช ุจุงูุงุชุฑ)ุ ุจุงุฏ ุงูู ุจุงุฏ. ูุซูุงู ุฏุฑ ุงูุฏฺฉุณ ุฑู `(status, user_id)`ุ ุณุชูู `user_id` ฺฉุงุฑุฏูุงูุช ุจุณุงุฑ ุจุงูุงุชุฑ ูุณุจุช ุจู `status` (ฺฉู ููฺฉู ุงุณุช ููุท ฺูุฏ ููุฏุงุฑ ูุญุฏูุฏ ุฏุงุดุชู ุจุงุดุฏ) ุฏุงุฑุฏ. ูพุณ ุชุฑุชุจ `(user_id, status)` ูุนูููุงู ุจูุชุฑ ุงุณุช.
2.  **ุจุฑ ุงุณุงุณ ฺฉูุฆุฑโูุง ุฎูุฏ ุทุฑุงุญ ฺฉูุฏ:** ุงูุฏฺฉุณ ุฑุง ุทูุฑ ุจุณุงุฒุฏ ฺฉู ูพุฑุชฺฉุฑุงุฑุชุฑู ฺฉูุฆุฑโูุง ุดูุง ุฑุง ูพูุดุด ุฏูุฏ.

---

###  ุงูุฒุงุด ุณุฑุนุช ููุง: ุงูุฏฺฉุณ ูพูุดุด (Covering Index)

ฺฉ ุงูุฏฺฉุณ ูพูุดุด ุฒูุงู ุงุชูุงู ูโุงูุชุฏ ฺฉู **ุชูุงู ุณุชููโูุง ููุฑุฏ ูุงุฒ ฺฉ ฺฉูุฆุฑ** (ุดุงูู `SELECT`, `WHERE`, `ORDER BY`) ุฏุฑ ุฎูุฏ ุงูุฏฺฉุณ ูุฌูุฏ ุฏุงุดุชู ุจุงุดูุฏ.

**ฺุฑุง ุงููุฏุฑ ุณุฑุน ุงุณุชุ**
ฺูู MySQL ูโุชูุงูุฏ ูพุงุณุฎ ฺฉูุฆุฑ ุฑุง **ููุท ุจุง ุฎูุงูุฏู ุงูุฏฺฉุณ** ุจุฏูุฏ ู ุฏฺฏุฑ ูุงุฒ ุจู ูุฑุงุฌุนู ุจู ุฌุฏูู ุงุตู (ฺฉู ุฑู ุฏุณฺฉ ูุฑุงุฑ ุฏุงุฑุฏ) ูุฏุงุฑุฏ. ุงู ฺฉุงุฑ ฺฉ ูุฑุญูู ฺฉุงูู ุงุฒ ุนููุงุช I/O ุฏุณฺฉ ุฑุง ุญุฐู ูโฺฉูุฏ. ุฏุฑ ุฎุฑูุฌ ุฏุณุชูุฑ `EXPLAIN`ุ ุงู ุญุงูุช ุจุง ุนุจุงุฑุช `Using index` ุฏุฑ ุณุชูู `Extra` ูุดุฎุต ูโุดูุฏ.

**ูุซุงู:**
ูุฑุถ ฺฉูุฏ ฺฉูุฆุฑ ุฒุฑ ุฑุง ุฏุงุฑู:

<div dir="ltr">

```sql
SELECT id, email FROM users WHERE status = 'active';
```
</div>

* **ุงูุฏฺฉุณ ุณุงุฏู:** `INDEX(status)` ุจู MySQL ฺฉูฺฉ ูโฺฉูุฏ ุฑุฏูโูุง ุฑุง ุณุฑุน ูพุฏุง ฺฉูุฏุ ุงูุง ุจุฑุง ุฎูุงูุฏู `id` ู `email` ุจุงุฏ ุจู ุฌุฏูู ุงุตู ูุฑุงุฌุนู ฺฉูุฏ.
* **ุงูุฏฺฉุณ ูพูุดุด:** `INDEX(status, email, id)` ฺฉ ุงูุฏฺฉุณ ูพูุดุด ุงุณุช. MySQL ุณุชูู `status` ุฑุง ุจุฑุง ููุชุฑ ฺฉุฑุฏู ู `email` ู `id` ุฑุง ุจุฑุง ุจุฎุด `SELECT` ูุณุชููุงู ุงุฒ ุฎูุฏ ุงูุฏฺฉุณ ูโุฎูุงูุฏ.

---

### โ๏ธ ุชููโูุง ุฑุงุฌ ุงูุฏฺฉุณโฺฏุฐุงุฑ (Anti-Patterns)

ุฏุงูุณุชู ุงูฺฉู ฺู ุฒูุงู ุงูุฏฺฉุณ *ูุณุงุฒู* ุจู ุงูุฏุงุฒู ุณุงุฎุชู ุขู ุงููุช ุฏุงุฑุฏ. ุงุฒ ุงู ุฏู ุงุดุชุจุงู ุฑุงุฌ ูพุฑูุฒ ฺฉูุฏ:

**ุชูู ฑ: ุงูุฏฺฉุณโฺฏุฐุงุฑ ูุฑุฏ ุฑู ูุฑ ุณุชูู:**
  ูุณูุณูโุงูฺฏุฒ ุงุณุช ฺฉู ุฑู ูุฑ ุณุชูู ฺฉู ุฏุฑ `WHERE` ูโุขุฏ ฺฉ ุงูุฏฺฉุณ ุฌุฏุงฺฏุงูู ุจุณุงุฒุฏ (ูุซูุงู `INDEX(status)` ู `INDEX(user_id)`). ุงู ฺฉุงุฑ **ุจุณุงุฑ ูุงฺฉุงุฑุขูุฏ** ุงุณุช. ุจุฑุง ฺฉ ฺฉูุฆุฑ `WHERE status = 'X' AND user_id = Y`ุ ุจูููโุณุงุฒ MySQL ุจู ุณุฎุช ูโุชูุงูุฏ ุงุฒ ูุฑ ุฏู ุงูุฏฺฉุณ ุจู ุทูุฑ ููุฒูุงู ุงุณุชูุงุฏู ฺฉูุฏ. ุฑุงูโุญู ุตุญุญุ ุณุงุฎุช ฺฉ **ุงูุฏฺฉุณ ฺูุฏุณุชูู** `INDEX(status, user_id)` ุงุณุช ฺฉู ฺฉูุฆุฑ ุฑุง ุฏุฑ ฺฉ ุญุฑฺฉุช ูพุงุณุฎ ูโุฏูุฏ. ุจู ุงุฏ ุฏุงุดุชู ุจุงุดุฏ ูุฑ ุงูุฏฺฉุณ ุงุถุงููุ ูุฒูู ุนููุงุช ููุดุชู (`INSERT`, `UPDATE`) ุฑุง ุจู ุดุฏุช ุจุงูุง ูโุจุฑุฏ.

**ุชูู ฒ: ุณุงุฎุช ฺฉ ุงูุฏฺฉุณ ุบููโูพฺฉุฑ ุฑู ุชูุงู ุณุชููโูุง:**
  ุงู ฺฉุงุฑ ูู ุชููุง ูุฒูู ููุดุชู ุฑุง ูุงุฌุนูโุจุงุฑ ูโฺฉูุฏุ ุจูฺฉู ุจู ุฏูู **ยซูุงููู ูพุดููุฏ ฺูพยป** (Left-Prefix Rule)ุ ุงู ุงูุฏฺฉุณ ุบููโูพฺฉุฑ ุจุฑุง ุงฺฉุซุฑ ฺฉูุฆุฑโูุง ุดูุง ุจโุงุณุชูุงุฏู ุฎูุงูุฏ ุจูุฏ. ุงูุฏฺฉุณ `(a, b, c, d)` ุจุฑุง ฺฉูุฆุฑ `... = WHERE d` ูฺ ฺฉุงุฑุจุฑุฏ ูุฏุงุฑุฏ.

**ูุงููู ุทูุง:** ุจู ุฌุง ุงูุฏฺฉุณโูุง ุฒุงุฏ ู ุจโูุฏูุ **ุชุนุฏุงุฏ ฺฉู ุงูุฏฺฉุณ ฺูุฏุณุชูู ููุดููุฏ** ุจุณุงุฒุฏ ฺฉู ูพุฑุชฺฉุฑุงุฑุชุฑู ฺฉูุฆุฑโูุง ุดูุง ุฑุง ุจู ุตูุฑุช **ูพูุดุด (Covering)** ูพุงุณุฎ ุฏููุฏ.

---

###  ููุงูู ุชฺฉูู ุจุฑุง ฺฉ ูููุฏุณ ุงุฑุดุฏ

**ุข) Clustered Index:** ุฏุฑ InnoDBุ ฺฉูุฏ ุงุตู (Primary Key) ููุงู Clustered Index ุงุณุช. ุงู ุนู ุฎูุฏู ุฏุงุฏูโูุง ุฌุฏูู ุจู ุตูุฑุช ูุฒฺฉ ุจุฑ ุงุณุงุณ ุชุฑุชุจ ฺฉูุฏ ุงุตู ุฑู ุฏุณฺฉ ุฐุฎุฑู ุดุฏูโุงูุฏ. ุจู ููู ุฏูู ุฌุณุชุฌู ุจุฑ ุงุณุงุณ ฺฉูุฏ ุงุตู ุณุฑุนโุชุฑู ุญุงูุช ููฺฉู ุงุณุช. ูุฑ ุฌุฏูู ููุท ฺฉ Clustered Index ุฏุงุฑุฏ.

**ุจ) Secondary Index:** ูุฑ ุงูุฏฺฉุณ ุฏฺฏุฑ ุจู ุฌุฒ ฺฉูุฏ ุงุตูุ ฺฉ Secondary Index ุงุณุช. ุงู ุงูุฏฺฉุณโูุง ููุฏุงุฑ ุณุชูู ุงูุฏฺฉุณ ุดุฏู ู ฺฉ **ุงุดุงุฑูโฺฏุฑ** ุจู ฺฉูุฏ ุงุตู ุฑุง ุฏุฑ ุฎูุฏ ุฐุฎุฑู ูโฺฉููุฏ. ูพุณ ุฌุณุชุฌู ุจุง ุงู ุงูุฏฺฉุณโูุง ูุนูููุงู ุฏู ูุฑุญูู ุฏุงุฑุฏ: ูพุฏุง ฺฉุฑุฏู ุงุดุงุฑูโฺฏุฑ ุฏุฑ Secondary Index ู ุณูพุณ ูพุฏุง ฺฉุฑุฏู ุฏุงุฏู ุงุตู ุจุง ุงุณุชูุงุฏู ุงุฒ ุขู ุงุดุงุฑูโฺฏุฑ ุฏุฑ Clustered Index.

---
[โฉ  ุฏุฑุณ ูุจู: ูุฑูุงูโุณุงุฒ ](../01-Normalization/README.md) | [๐ผ ุจุงุฒฺฏุดุช ุจู ููุฑุณุช ูุตู](../README.md) | [๐ ูุดุงูุฏู ููููู ฺฉุฏ](examples.sql) | [ุฏุฑุณ ุจุนุฏ: ุชุฑุงฺฉูุดโูุง โช](../03-Transactions-And-ACID/README.md)

</div>
