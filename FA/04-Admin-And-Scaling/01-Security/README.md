<div dir="rtl">

# ุจุฎุด ดุ ุฏุฑุณ ฑ: ุงููุช (Security)

 ุงููุช ุฏุฑ ุฏุชุงุจุณ ุฏู ุฌูุจู ุงุตู ุฏุงุฑุฏ:
  - **ฺฉูุชุฑู ุฏุณุชุฑุณ (Access Control):** ฺู ฺฉุณ ุงุฌุงุฒู ุฏุงุฑุฏ ุจู ฺู ุฏุงุฏูโุง ู ุจุง ฺู ุณุทุญ ุงุฒ ุงุฎุชุงุฑุงุช (ุฎูุงูุฏูุ ููุดุชูุ ุญุฐู ฺฉุฑุฏู) ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ.
  - **ุฌููฺฏุฑ ุงุฒ ุญููุงุช (Attack Prevention):** ฺฺฏููู ุงุฒ ุฏุชุงุจุณ ุฏุฑ ุจุฑุงุจุฑ ุญููุงุช ุฑุงุฌ ูุงููุฏ SQL Injection ูุญุงูุธุช ฺฉูู.

---

### ## ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ุณุทูุญ ุฏุณุชุฑุณ

ุฏุฑ ฺฉ ูุญุท ูุงูุนุ ุดูุง ูุฑฺฏุฒ ูุจุงุฏ ุจุง ฺฉุงุฑุจุฑ `root` ุจู ุงูพูฺฉุดู ุฎูุฏ ูุชุตู ุดูุฏ. ฺฉุงุฑุจุฑ `root` ุจุงูุงุชุฑู ุณุทุญ ุฏุณุชุฑุณ ุฑุง ุฏุงุฑุฏ ู ุงฺฏุฑ ุงุทูุงุนุงุช ุขู ุจู ุณุฑูุช ุจุฑูุฏุ ฺฉู ุณุฑูุฑ ุฏุชุงุจุณ ุดูุง ุฏุฑ ูุนุฑุถ ุฎุทุฑ ูุฑุงุฑ ูโฺฏุฑุฏ.

**ุงุตู ุญุฏุงูู ุฏุณุชุฑุณ (Principle of Least Privilege):**
> ุงู ุงุตู ูโฺฏูุฏ ฺฉู ูุฑ ฺฉุงุฑุจุฑ (ุง ุงูพูฺฉุดู) ุจุงุฏ **ููุท ู ููุท** ุจู ุญุฏุงูู ุฏุณุชุฑุณโูุง ูุงุฒู ุจุฑุง ุงูุฌุงู ูุธุงูุด ูุฌูุฒ ุจุงุดุฏ ู ูู ุจุดุชุฑ.

ุจุฑุง ูุซุงูุ ฺฉ ฺฉุงุฑุจุฑ ฺฉู ููุท ูุธูู ฺฏุฒุงุฑุดโฺฏุฑ ุฏุงุฑุฏุ ูุจุงุฏ ุงุฌุงุฒู `DELETE` ุง `UPDATE` ุฏุงุดุชู ุจุงุดุฏ.

#### ุฏุณุชูุฑุงุช ฺฉูุฏ ูุฏุฑุช ุฏุณุชุฑุณ

* ุฏุณุชูุฑ **`CREATE USER`**: ุณุงุฎุช ฺฉ ฺฉุงุฑุจุฑ ุฌุฏุฏ.

<div dir="ltr">

  ```sql
    CREATE USER 'app_user'@'localhost' IDENTIFIED BY 'a_very_strong_password';
  ```
</div>

**ูฺฉุชู:** ุจุฎุด `'@'localhost'` ูุดุฎุต ูโฺฉูุฏ ฺฉู ุงู ฺฉุงุฑุจุฑ ููุท ุงุฒ ุฏุงุฎู ุฎูุฏ ุณุฑูุฑ (localhost) ูโุชูุงูุฏ ูุชุตู ุดูุฏ. ุจุฑุง ุฏุณุชุฑุณ ุงุฒ ุฑุงู ุฏูุฑุ ูโุชูุงูุฏ ุงุฒ `'%'` (ูุฑ ุขุฏุฑุณ) ุง ุขุฏุฑุณ IP ูุดุฎุต ุงุณุชูุงุฏู ฺฉูุฏ.

* ุฏุณุชูุฑ **`GRANT`**: ุงุนุทุง ุฏุณุชุฑุณ ุจู ฺฉุงุฑุจุฑ.
  ุดูุง ูโุชูุงูุฏ ุฏุณุชุฑุณโูุง ุฑุง ุฏุฑ ุณุทูุญ ูุฎุชูู ุงุนุทุง ฺฉูุฏ:
  * **ุณุทุญ ฺฏููุจุงู (`*.*`):** ุฏุณุชุฑุณ ุจู ุชูุงู ุฏุชุงุจุณโูุง (ุจุณุงุฑ ุฎุทุฑูุงฺฉ).
  * **ุณุทุญ ุฏุชุงุจุณ (`database_name.*`):** ุฏุณุชุฑุณ ุจู ุชูุงู ุฌุฏุงูู ฺฉ ุฏุชุงุจุณ ุฎุงุต.
  * **ุณุทุญ ุฌุฏูู (`database_name.table_name`):** ุฏุณุชุฑุณ ุจู ฺฉ ุฌุฏูู ุฎุงุต.
<div dir="ltr">

  ```sql
  -- my_app ุจู ฺฉุงุฑุจุฑ ุงูพูฺฉุดู ุฑู ุชูุงู ุฌุฏุงูู ุฏุชุงุจุณ SELECT, INSERT, UPDATE ุงุนุทุง ุฏุณุชุฑุณ 
GRANT SELECT, INSERT, UPDATE ON `my_app`.* TO 'app_user'@'localhost';
  ```
</div>

* ุฏุณุชูุฑ **`REVOKE`**: ูุบู ุฏุณุชุฑุณโูุง ฺฉ ฺฉุงุฑุจุฑ.

<div dir="ltr">

  ```sql
  --comment ุงุฒ ฺฉุงุฑุจุฑ ุงูพูฺฉุดู UPDATE ูุบู ุฏุณุชุฑุณ 
REVOKE UPDATE ON `my_app`.* FROM 'app_user'@'localhost';
  ```
</div>

* ุฏุณุชูุฑ **`DROP USER`**: ุญุฐู ฺฉุงูู ฺฉ ฺฉุงุฑุจุฑ.

---

### ## ุฌููฺฏุฑ ุงุฒ SQL Injection

**ุญููู SQL Injection** ุญูููโุง ุงุณุช ฺฉู ุฏุฑ ุขูุ ฺฉ ููุงุฌู ุจุง ุชุฒุฑู ฺฉุฏูุง SQL ูุฎุฑุจ ุงุฒ ุทุฑู ูุฑูุฏโูุง ุงูพูฺฉุดู (ูุงููุฏ ูุฑูโูุง ูุงฺฏู ุง ุฌุณุชุฌู)ุ ุณุน ุฏุฑ ุฏุณุชฺฉุงุฑ ุง ุณุฑูุช ุงุทูุงุนุงุช ุฏุชุงุจุณ ุฏุงุฑุฏ.

**ูุซุงู ฺฉูุงุณฺฉ ุงุฒ ฺฉุฏ ุขุณุจโูพุฐุฑ (ุฏุฑ PHP):**

<div dir="ltr">

```php
// example
// !!! ฺฉุฏ ุจุณุงุฑ ูุงุงูู !!!
$user_id = $_GET['id']; // 105 OR 1=1 ูุซูุง ูุฑูุฏ ุจุฑุงุจุฑ ุงุณุช ุจุง:
$sql = "SELECT * FROM users WHERE id = " . $user_id;
// SELECT * FROM users WHERE id = 105 OR 1=1 :ฺฉูุฆุฑ ููุง 
// ุงู ฺฉูุฆุฑ ุชูุงู ฺฉุงุฑุจุฑุงู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ
```
</div>

**ฺฺฏููู ุงุฒ ุขู ุฌููฺฏุฑ ฺฉููุ**

ุฏูุงุน ุงุตู ุฏุฑ ุจุฑุงุจุฑ SQL Injection ุฏุฑ **ูุงู ุงูพูฺฉุดู** ุตูุฑุช ูโฺฏุฑุฏุ ูู ุฏุฑ ุฏุชุงุจุณ.

**ุงุณุชูุงุฏู ุงุฒ Prepared Statements (ุฏุณุชูุฑุงุช ุขูุงุฏู):**
ุงู ุจูุชุฑู ู ุงููโุชุฑู ุฑูุด ุงุณุช. ุฏุฑ ุงู ุฑูุดุ ุดูุง ุงุจุชุฏุง ูุงูุจ ฺฉูุฆุฑ ุฑุง ุจุง placeholder ูุง (ูุนูููุงู `?`) ุจู ุฏุชุงุจุณ ุงุฑุณุงู ูโฺฉูุฏ ู ุณูพุณ ููุงุฏุฑ ูุฑูุฏ ุฑุง ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ูโูุฑุณุชุฏ. ุฏุฑ ุงู ุญุงูุชุ ุณุฑูุฑ MySQL ูุฑฺฏุฒ ุฏุงุฏูโูุง ูุฑูุฏ ุฑุง ุจู ุนููุงู ุจุฎุด ุงุฒ ฺฉุฏ SQL ุชูุณุฑ ููโฺฉูุฏ.

**ูุซุงู ุงูู (ุฏุฑ PHP ุจุง PDO):**

<div dir="ltr">

  ```php
    $stmt = $pdo->prepare("SELECT * FROM users WHERE id = ?");
    $stmt->execute([$_GET['id']]);
    $user = $stmt->fetch();
  ```
</div>

  ูุฑูโูุฑฺฉโูุง ูุฏุฑู ูุงููุฏ **ูุงุฑุงูู** (ุจุง Eloquent ู Query Builder) ุจู ุตูุฑุช ูพุดโูุฑุถ ุงุฒ Prepared Statements ุงุณุชูุงุฏู ูโฺฉููุฏ ู ุชุง ุฒูุงู ฺฉู ุดูุง ุงุฒ `()DB::raw` ุจู ุดฺฉู ูุงุงูู ุงุณุชูุงุฏู ูฺฉูุฏุ ุฏุฑ ุจุฑุงุจุฑ SQL Injection ููุงูู ูุณุชูุฏ.

---
[โฉ ูุตู ูุจู: ุจูููโุณุงุฒ ุนููฺฉุฑุฏ](../../03-Performance-Optimization/README.md) | [๐ผ ุจุงุฒฺฏุดุช ุจู ููุฑุณุช ูุตู](../README.md) | [๐ ูุดุงูุฏู ููููู ฺฉุฏ](examples.sql) | [ุฏุฑุณ ุจุนุฏ: ูพุดุชุจุงูโฺฏุฑ ู ุจุงุฒุงุจ โช](../02-Backup-And-Recovery/README.md)

</div>