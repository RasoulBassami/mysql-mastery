<div dir="rtl">

# ุจุฎุด ฑุ ุฏุฑุณ ณ: ุฑูุงุจุท ู ฺฉูุฏูุง (Keys & Relationships)

ุชุง ุงูุฌุง ุงุฏ ฺฏุฑูุชู ฺฉู ุฏุงุฏูโูุง ุฑุง ุฏุฑ ุฌุฏุงูู ู ุณุชููโูุง ุจููู ุฐุฎุฑู ฺฉูู. ุงูุง ูุฏุฑุช ูุงูุน ฺฉ ูพุงฺฏุงู ุฏุงุฏู ุฑุงุจุทูโุง (Relational Database) ุฏุฑ **ุจุฑูุฑุงุฑ ุงุฑุชุจุงุท** ุจู ุงู ุฏุงุฏูโูุงุณุช. ุฏุฑ ุงู ุฏุฑุณุ ุจุง "ฺุณุจ"ูุง ุขุดูุง ูโุดูู ฺฉู ุฌุฏุงูู ุฑุง ุจู ูู ูุชุตู ูโฺฉููุฏ: **ฺฉูุฏูุง (Keys)** ู **ุฑูุงุจุท (Relationships)**.

---

## ๐ ุงููุงุน ฺฉูุฏูุง: ุดูุงุณูุงูู ุฏุงุฏูโูุง

ฺฉูุฏูุงุ ุณุชููโูุง ุง ูุฌููุนูโุง ุงุฒ ุณุชููโูุง ูุณุชูุฏ ฺฉู ููุด ุฎุงุต ุฏุฑ ุดูุงุณุง ู ุจุฑูุฑุงุฑ ุงุฑุชุจุงุท ุจู ุฑุฏูโูุง ุงูุง ูโฺฉููุฏ.

### ฑ. ฺฉูุฏ ุงุตู (Primary Key)
ฺฉูุฏ ุงุตูุ ุดูุงุณูุงูู ููุญุตุฑุจูโูุฑุฏ ูุฑ ุฑุฏู ุฏุฑ ฺฉ ุฌุฏูู ุงุณุช.

* **ููุงูู:** ููุงุฏุฑ ุขู ุจุงุฏ **ฺฉุชุง (Unique)** ุจุงุดูุฏ ู **ููโุชูุงููุฏ `NULL` ุจุงุดูุฏ**. ูุฑ ุฌุฏูู ููุท ูโุชูุงูุฏ ฺฉ ฺฉูุฏ ุงุตู ุฏุงุดุชู ุจุงุดุฏ.
* **ุจูุชุฑู ุฑูุด:** ุฑุงุฌโุชุฑู ุฑูุดุ ุงุณุชูุงุฏู ุงุฒ ฺฉ ุณุชูู ุนุฏุฏ ุจู ูุงู `id` ุจุง ูุงุจูุช `AUTO_INCREMENT` ุงุณุช. ุงู ููุน ฺฉูุฏ ฺฉู ููุท ุจุฑุง ุดูุงุณุง ุฑฺฉูุฑุฏ ุณุงุฎุชู ูโุดูุฏ ุฑุง "ฺฉูุฏ ุฌุงฺฏุฒู" (Surrogate Key) ูโูุงููุฏ.

<div dir="ltr">

```sql
CREATE TABLE users (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
    email VARCHAR(150) NOT NULL,
    PRIMARY KEY (id)
);
```
</div>

### ฒ. ฺฉูุฏ ุฎุงุฑุฌ (Foreign Key)
ฺฉูุฏ ุฎุงุฑุฌุ ูพู ุงุณุช ฺฉู ฺฉ ุฌุฏูู ุฑุง ุจู ุฌุฏูู ุฏฺฏุฑ ูุชุตู ูโฺฉูุฏ. ุงู ฺฉูุฏุ ฺฉ ุณุชูู ุฏุฑ ฺฉ ุฌุฏูู ุงุณุช ฺฉู ุจู **ฺฉูุฏ ุงุตู (Primary Key)** ุฏุฑ ุฌุฏูู ุฏฺฏุฑ ุงุดุงุฑู ูโฺฉูุฏ.

* **ูุฏู:** ุชุถูู **ฺฉูพุงุฑฺฺฏ ุงุฑุฌุงุน (Referential Integrity)**. ุงู ุนู ุฏุชุงุจุณ ุงุฌุงุฒู ููโุฏูุฏ ุดูุง ฺฉ ุฑฺฉูุฑุฏ "ุชู" ุจุณุงุฒุฏ. ุจุฑุง ูุซุงูุ ุดูุง ููโุชูุงูุฏ ุณูุงุฑุด (`orders`) ุจุฑุง ฺฉ `user_id` ุซุจุช ฺฉูุฏ ฺฉู ุฏุฑ ุฌุฏูู `users` ูุฌูุฏ ุฎุงุฑุฌ ูุฏุงุฑุฏ.
* **ูุซุงู:** ุฏุฑ ุฌุฏูู `orders`ุ ุณุชูู `user_id` ฺฉ ฺฉูุฏ ุฎุงุฑุฌ ุงุณุช ฺฉู ุจู ุณุชูู `id` ุฏุฑ ุฌุฏูู `users` ุงุดุงุฑู ูโฺฉูุฏ.

<div dir="ltr">

```sql
CREATE TABLE orders (
    id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
    user_id BIGINT UNSIGNED NOT NULL,
    amount DECIMAL(10, 2) NOT NULL,
    PRIMARY KEY (id),
    FOREIGN KEY (fk_orders_users) REFERENCES users(id)
);
```
</div>

-----

### ณ. ฺฉูุฏ ฺฉุชุง (Unique Key)
ฺฉ ฺฉูุฏ ฺฉุชุง ุชุถูู ูโฺฉูุฏ ฺฉู ุชูุงู ููุงุฏุฑ ุฏุฑ ฺฉ ุณุชูู (ุง ูุฌููุนูโุง ุงุฒ ุณุชููโูุง) ููุญุตุฑุจูโูุฑุฏ ุจุงุดูุฏ.

* **ุชูุงูุช ุจุง ฺฉูุฏ ุงุตู:**
    * ฺฉ ุฌุฏูู ูโุชูุงูุฏ ฺูุฏู ฺฉูุฏ ฺฉุชุง ุฏุงุดุชู ุจุงุดุฏ.
    * ฺฉูุฏ ฺฉุชุง ูโุชูุงูุฏ ฺฉ ููุฏุงุฑ `NULL` ุฑุง ุจูพุฐุฑุฏ.
* **ฺฉุงุฑุจุฑุฏ:** ุจุฑุง ุณุชููโูุง ฺฉู ุจุงุฏ ฺฉุชุง ุจุงุดูุฏ ุงูุง ุดูุงุณู ุงุตู ุฌุฏูู ูุณุชูุฏ. ุจูุชุฑู ูุซุงูุ ุณุชูู `email` ุง `username` ุฏุฑ ุฌุฏูู ฺฉุงุฑุจุฑุงู ุงุณุช.

<div dir="ltr">

```sql
--commnet: ุงุถุงูู ฺฉุฑุฏู ูุญุฏูุฏุช ฺฉุชุง ุจูุฏู ุจู ุณุชูู ุงูู
ALTER TABLE users ADD CONSTRAINT uk_email UNIQUE (email);
```
</div>

### ููููู `INDEX` ุจู ุฒุจุงู ุณุงุฏู
ฺฉ ุงูุฏฺฉุณ ูุงููุฏ ููุฑุณุช ุงูุชูุง ฺฉ ฺฉุชุงุจ ุงุณุช. ุจู ุฌุง ูุฑู ุฒุฏู ฺฉู ฺฉุชุงุจ ุจุฑุง ูพุฏุง ฺฉุฑุฏู ฺฉ ููุถูุน (Full Table Scan)ุ ุดูุง ุจู ููุฑุณุช ูฺฏุงู ูโฺฉูุฏ ู ูุณุชููุงู ุจู ุตูุญู ููุฑุฏ ูุธุฑ ูโุฑูุฏ.

> ุฏุฑ ุฏุชุงุจุณุ ุงูุฏฺฉุณ ฺฉ ุณุงุฎุชุงุฑ ุฏุงุฏู ุงุณุช ฺฉู ุณุฑุนุช ุนููุงุช ุฌุณุชุฌู ู ุจุงุฒุงุจ ุงุทูุงุนุงุช ุฑุง ุจู ุดุฏุช ุงูุฒุงุด ูโุฏูุฏ. ููุช ุฑู ฺฉ ุณุชูู ุงูุฏฺฉุณ ูโุณุงุฒุฏุ ุฏุชุงุจุณ ฺฉ ฺฉูพ ูุฑุชุจโุดุฏู ุงุฒ ููุงุฏุฑ ุขู ุณุชูู ุฑุง ูฺฏู ูโุฏุงุฑุฏ ุชุง ุจุชูุงูุฏ ุจู ุณุฑุนุช ุฑุฏู ููุฑุฏ ูุธุฑ ุฑุง ูพุฏุง ฺฉูุฏ. (ูฺฉุชู: ุฏุฑ ููุชูุฑ InnoDBุ ุงูุฏฺฉุณโฺฏุฐุงุฑ ุฑู ฺฉูุฏ ุงุตู ุจุง ุณุงุฑ ุณุชููโูุง ุชูุงูุชโูุง ุณุงุฎุชุงุฑ ููู ุฏุงุฑุฏ ฺฉู ุฏุฑ ูุตู "ุทุฑุงุญ ูพุดุฑูุชู" ุจู ุทูุฑ ฺฉุงูู ุจุฑุฑุณ ุฎูุงูู ฺฉุฑุฏ).

**ูฺฉุชู ููู:** ุณุชููโูุง ฺฉู `PRIMARY KEY` ุง `UNIQUE KEY` ูุณุชูุฏุ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุชูุณุท MySQL ุงูุฏฺฉุณ ูโุดููุฏ.

---

## ๐ ุงููุงุน Join: ุชุฑฺฉุจ ุฏุงุฏูโูุง ุงุฒ ุฌุฏุงูู ูุฎุชูู

ุฏุณุชูุฑ `JOIN` ุฏุณุชูุฑ ุงุณุช ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏูุฏ ุจุฑ ุงุณุงุณ ฺฉ ุฑุงุจุทู ูุดุชุฑฺฉ (ูุนูููุงู ฺฉูุฏ ุงุตู ู ุฎุงุฑุฌ)ุ ุฑุฏูโูุง ุฑุง ุงุฒ ุฏู ุง ฺูุฏ ุฌุฏูู ุจุง ูู ุชุฑฺฉุจ ฺฉูู.

### ุข) INNER JOIN
ููุท ุฑุฏูโูุง ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ ฺฉู ุฏุฑ **ูุฑ ุฏู ุฌุฏูู** ุฏุงุฑุง ููุฏุงุฑ ูุดุชุฑฺฉ ุจุงุดูุฏ.
* **ูุซุงู:** ุจู ูู ฺฉุงุฑุจุฑุงู ุฑุง ูุดุงู ุจุฏู ฺฉู **ุญุฏุงูู ฺฉ ุณูุงุฑุด** ุซุจุช ฺฉุฑุฏูโุงูุฏ.

### ุจ) LEFT JOIN
**ุชูุงู ุฑุฏูโูุง** ุฑุง ุงุฒ ุฌุฏูู ุณูุช ฺูพ (ุฌุฏูู ุงูู) ู ุฑุฏูโูุง ููุทุจู ุฑุง ุงุฒ ุฌุฏูู ุณูุช ุฑุงุณุช (ุฌุฏูู ุฏูู) ุจุฑูโฺฏุฑุฏุงูุฏ. ุงฺฏุฑ ุฑุฏู ุฏุฑ ุฌุฏูู ฺูพุ ูุนุงุฏู ุฏุฑ ุฌุฏูู ุฑุงุณุช ูุฏุงุดุชู ุจุงุดุฏุ ููุงุฏุฑ ุณุชููโูุง ุฌุฏูู ุฑุงุณุช `NULL` ุฎูุงููุฏ ุจูุฏ.
* **ูุซุงู:** **ุชูุงู ฺฉุงุฑุจุฑุงู** ุฑุง ุจู ูู ูุดุงู ุจุฏู ู ุงฺฏุฑ ุณูุงุฑุด ุฏุงุดุชูุฏุ ุงุทูุงุนุงุช ุณูุงุฑุด ุขูโูุง ุฑุง ูู ููุงุด ุจุฏู. ฺฉุงุฑุจุฑุงู ฺฉู ุณูุงุฑุด ูุฏุงุฑูุฏ ูู ุฏุฑ ูุณุช ุฎูุงููุฏ ุจูุฏ.

### ูพ) RIGHT JOIN
ุจุฑุนฺฉุณ `LEFT JOIN` ุนูู ูโฺฉูุฏ. ุชูุงู ุฑุฏูโูุง ุฑุง ุงุฒ ุฌุฏูู ุณูุช ุฑุงุณุช ุจุฑูโฺฏุฑุฏุงูุฏ.
* **ูฺฉุชู:** ุชูุฑุจุงู ูุฑ `RIGHT JOIN` ุฑุง ูโุชูุงู ุจุง ุฌุงุจุฌุง ฺฉุฑุฏู ุฌุฏุงูู ุจู ฺฉ `LEFT JOIN` ุชุจุฏู ฺฉุฑุฏ. ุจุฑุง ุฎูุงูุง ุจุดุชุฑ ฺฉุฏุ ุงฺฉุซุฑ ุชูุณุนูโุฏููุฏฺฏุงู ุชุฑุฌุญ ูโุฏููุฏ ููุท ุงุฒ `LEFT JOIN` ุงุณุชูุงุฏู ฺฉููุฏ.

### ุช) CROSS JOIN
ุงู ุฏุณุชูุฑุ ุญุงุตูุถุฑุจ ุฏฺฉุงุฑุช ุฏู ุฌุฏูู ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ. ุนู ูุฑ ุฑุฏู ุงุฒ ุฌุฏูู ุงูู ุฑุง ุจุง ุชูุงู ุฑุฏูโูุง ุฌุฏูู ุฏูู ุชุฑฺฉุจ ูโฺฉูุฏ.
* **ูุดุฏุงุฑ:** ุงู ููุน `JOIN` ูุนูููุงู ุชุนุฏุงุฏ ุจุณุงุฑ ุฒุงุฏ ุฑุฏู ุชููุฏ ูโฺฉูุฏ ู ุจู ูุฏุฑุช ุฏุฑ ุจุฑูุงููโูุง ฺฉุงุฑุจุฑุฏ ุงุณุชูุงุฏู ูโุดูุฏ. ูฺฏุฑ ุฏุฑ ููุงุฑุฏ ุฎุงุต ูุงููุฏ ุชููุฏ ุฏุงุฏูโูุง ุชุณุช.

---

[โฉ ุฏุฑุณ ฒ: ุงููุงุน ุฏุงุฏู](../02-Data-Types/README.md) | [๐ผ ุจุงุฒฺฏุดุช ุจู ููุฑุณุช ูุตู](../README.md) | [๐ ูุดุงูุฏู ููููู ฺฉุฏ](examples.sql) | [ูุตู ุจุนุฏ: ุทุฑุงุญ ูพุดุฑูุชู โช](../../02-Advanced-Design/README.md)

</div>
